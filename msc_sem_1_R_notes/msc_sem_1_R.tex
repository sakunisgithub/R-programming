\documentclass[11pt, a4paper]{article}\usepackage[]{graphicx}\usepackage[]{xcolor}
% maxwidth is the original width if it is less than linewidth
% otherwise use linewidth (to make sure the graphics do not exceed the margin)
\makeatletter
\def\maxwidth{ %
  \ifdim\Gin@nat@width>\linewidth
    \linewidth
  \else
    \Gin@nat@width
  \fi
}
\makeatother

\definecolor{fgcolor}{rgb}{0.345, 0.345, 0.345}
\newcommand{\hlnum}[1]{\textcolor[rgb]{0.686,0.059,0.569}{#1}}%
\newcommand{\hlsng}[1]{\textcolor[rgb]{0.192,0.494,0.8}{#1}}%
\newcommand{\hlcom}[1]{\textcolor[rgb]{0.678,0.584,0.686}{\textit{#1}}}%
\newcommand{\hlopt}[1]{\textcolor[rgb]{0,0,0}{#1}}%
\newcommand{\hldef}[1]{\textcolor[rgb]{0.345,0.345,0.345}{#1}}%
\newcommand{\hlkwa}[1]{\textcolor[rgb]{0.161,0.373,0.58}{\textbf{#1}}}%
\newcommand{\hlkwb}[1]{\textcolor[rgb]{0.69,0.353,0.396}{#1}}%
\newcommand{\hlkwc}[1]{\textcolor[rgb]{0.333,0.667,0.333}{#1}}%
\newcommand{\hlkwd}[1]{\textcolor[rgb]{0.737,0.353,0.396}{\textbf{#1}}}%
\let\hlipl\hlkwb

\usepackage{framed}
\makeatletter
\newenvironment{kframe}{%
 \def\at@end@of@kframe{}%
 \ifinner\ifhmode%
  \def\at@end@of@kframe{\end{minipage}}%
  \begin{minipage}{\columnwidth}%
 \fi\fi%
 \def\FrameCommand##1{\hskip\@totalleftmargin \hskip-\fboxsep
 \colorbox{shadecolor}{##1}\hskip-\fboxsep
     % There is no \\@totalrightmargin, so:
     \hskip-\linewidth \hskip-\@totalleftmargin \hskip\columnwidth}%
 \MakeFramed {\advance\hsize-\width
   \@totalleftmargin\z@ \linewidth\hsize
   \@setminipage}}%
 {\par\unskip\endMakeFramed%
 \at@end@of@kframe}
\makeatother

\definecolor{shadecolor}{rgb}{.97, .97, .97}
\definecolor{messagecolor}{rgb}{0, 0, 0}
\definecolor{warningcolor}{rgb}{1, 0, 1}
\definecolor{errorcolor}{rgb}{1, 0, 0}
\newenvironment{knitrout}{}{} % an empty environment to be redefined in TeX

\usepackage{alltt}

\usepackage[top=1 in, bottom = 1 in, left = 1 in, right = 1 in ]{geometry}

\usepackage{amsmath, amssymb, amsfonts}
\usepackage{enumerate}
\usepackage{hyperref}
\usepackage{dingbat}

\title{\textbf{MSMS 105 - Computing with R}}
\author{Ananda Biswas}
\date{}
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\begin{document}

\maketitle

\tableofcontents

\newpage



\section{Basic Operations}

\smallpencil

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hldef{x} \hlkwb{<-} \hlnum{1}\hlopt{:}\hlnum{10}
\hldef{y} \hlkwb{<-} \hlnum{1}\hlopt{:}\hlnum{9}
\hldef{x} \hlopt{+} \hldef{y}
\end{alltt}


{\ttfamily\noindent\color{warningcolor}{\#\# Warning in x + y: longer object length is not a multiple of shorter object length}}\begin{verbatim}
##  [1]  2  4  6  8 10 12 14 16 18 11
\end{verbatim}
\end{kframe}
\end{knitrout}

Here observe that, $x$ and $y$ are of different lengths; still R does the sum and produces a Warning but not an Error. The rule is the shorter one will adjust its length by cyclically repeating its elements. \\

\hspace{1cm}The warning message says \textit{longer object length is not a multiple of shorter object length}. Be aware of the fact that, if two vectors are of different lengths, but length of the longer one is a perfect multiple of that of the shorter one, then R completes the operation by cyclical repetition and does not even generate a Warning. So one has to be CAUTIOUS in that case.
\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hldef{x} \hlkwb{<-} \hlnum{1}\hlopt{:}\hlnum{10}
\hldef{y} \hlkwb{<-} \hlnum{1}\hlopt{:}\hlnum{5}
\hldef{x} \hlopt{+} \hldef{y}
\end{alltt}
\begin{verbatim}
##  [1]  2  4  6  8 10  7  9 11 13 15
\end{verbatim}
\end{kframe}
\end{knitrout}

\flushleft{\smallpencil}

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hldef{x} \hlkwb{<-} \hlnum{1}\hlopt{:}\hlnum{5}
\hlkwd{class}\hldef{(x)}
\end{alltt}
\begin{verbatim}
## [1] "integer"
\end{verbatim}
\begin{alltt}
\hldef{y} \hlkwb{<-} \hlkwd{c}\hldef{(x,} \hlsng{"a"}\hldef{)}
\hlkwd{class}\hldef{(y)}
\end{alltt}
\begin{verbatim}
## [1] "character"
\end{verbatim}
\end{kframe}
\end{knitrout}

\hspace{1cm} Observe that $x$ is of class \textit{integer}, but adding \textbf{``a"} makes vector $y$ of class \textit{character}. This is because vectors are collection of homogeneous elements and an integer can be converted to a character but the reverse is not possible.

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hldef{x} \hlkwb{<-} \hlkwd{c}\hldef{(}\hlnum{1}\hldef{,} \hlnum{2}\hldef{,} \hlnum{3}\hldef{,} \hlnum{4}\hldef{,} \hlnum{5}\hldef{)}
\hlkwd{class}\hldef{(x)}
\end{alltt}
\begin{verbatim}
## [1] "numeric"
\end{verbatim}
\end{kframe}
\end{knitrout}

\hspace{1cm} Observe that, a vector generated by \textbf{:} operator is of class \textit{integer}, because \textbf{:} operator is used only to create sequence of integers. But a vector generated by \textbf{c()} is of class \textit{numeric}.

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlkwd{as.logical}\hldef{(}\hlnum{14}\hldef{)}
\end{alltt}
\begin{verbatim}
## [1] TRUE
\end{verbatim}
\begin{alltt}
\hlkwd{as.logical}\hldef{(}\hlnum{14.7}\hldef{)}
\end{alltt}
\begin{verbatim}
## [1] TRUE
\end{verbatim}
\begin{alltt}
\hlkwd{as.numeric}\hldef{(}\hlnum{TRUE}\hldef{)}
\end{alltt}
\begin{verbatim}
## [1] 1
\end{verbatim}
\begin{alltt}
\hlkwd{as.numeric}\hldef{(}\hlnum{FALSE}\hldef{)}
\end{alltt}
\begin{verbatim}
## [1] 0
\end{verbatim}
\end{kframe}
\end{knitrout}


\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hldef{y} \hlkwb{<-} \hlkwd{c}\hldef{(x,} \hlnum{TRUE}\hldef{,} \hlnum{FALSE}\hldef{)}
\hldef{y}
\end{alltt}
\begin{verbatim}
## [1] 1 2 3 4 5 1 0
\end{verbatim}
\begin{alltt}
\hlkwd{class}\hldef{(y)}
\end{alltt}
\begin{verbatim}
## [1] "numeric"
\end{verbatim}
\end{kframe}
\end{knitrout}

Although integer to logical or numeric to logical conversion is possible, R makes vector $y$ with class \textit{numeric}.

\section{Implicit Looping}

\subsection{Vectorized Operations}

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hldef{x} \hlkwb{<-} \hlnum{1}\hlopt{:}\hlnum{10}
\hldef{x} \hlopt{+} \hlnum{14}
\end{alltt}
\begin{verbatim}
##  [1] 15 16 17 18 19 20 21 22 23 24
\end{verbatim}
\begin{alltt}
\hldef{x}\hlopt{^}\hlnum{2}
\end{alltt}
\begin{verbatim}
##  [1]   1   4   9  16  25  36  49  64  81 100
\end{verbatim}
\end{kframe}
\end{knitrout}

\subsection{\textbf{\textit{apply} family of functions}}

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlkwd{head}\hldef{(iris)}
\end{alltt}
\begin{verbatim}
##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
## 4          4.6         3.1          1.5         0.2  setosa
## 5          5.0         3.6          1.4         0.2  setosa
## 6          5.4         3.9          1.7         0.4  setosa
\end{verbatim}
\end{kframe}
\end{knitrout}

\subsubsection{\textit{apply}} In \textit{apply}, the first argument is data; second argument is 1 or 2, 1 indicating rows and 2 indicating columns; the third argument is the function to be applied.
\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlkwd{apply}\hldef{(iris[,} \hlnum{1}\hlopt{:}\hlnum{4}\hldef{],} \hlnum{1}\hldef{, sum)}
\end{alltt}
\begin{verbatim}
##   [1] 10.2  9.5  9.4  9.4 10.2 11.4  9.7 10.1  8.9  9.6 10.8 10.0  9.3  8.5 11.2
##  [16] 12.0 11.0 10.3 11.5 10.7 10.7 10.7  9.4 10.6 10.3  9.8 10.4 10.4 10.2  9.7
##  [31]  9.7 10.7 10.9 11.3  9.7  9.6 10.5 10.0  8.9 10.2 10.1  8.4  9.1 10.7 11.2
##  [46]  9.5 10.7  9.4 10.7  9.9 16.3 15.6 16.4 13.1 15.4 14.3 15.9 11.6 15.4 13.2
##  [61] 11.5 14.6 13.2 15.1 13.4 15.6 14.6 13.6 14.4 13.1 15.7 14.2 15.2 14.8 14.9
##  [76] 15.4 15.8 16.4 14.9 12.8 12.8 12.6 13.6 15.4 14.4 15.5 16.0 14.3 14.0 13.3
##  [91] 13.7 15.1 13.6 11.6 13.8 14.1 14.1 14.7 11.7 13.9 18.1 15.5 18.1 16.6 17.5
## [106] 19.3 13.6 18.3 16.8 19.4 16.8 16.3 17.4 15.2 16.1 17.2 16.8 20.4 19.5 14.7
## [121] 18.1 15.3 19.2 15.7 17.8 18.2 15.6 15.8 16.9 17.6 18.2 20.1 17.0 15.7 15.7
## [136] 19.1 17.7 16.8 15.6 17.5 17.8 17.4 15.5 18.2 18.2 17.2 15.7 16.7 17.3 15.8
\end{verbatim}
\end{kframe}
\end{knitrout}

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlkwd{apply}\hldef{(iris[,} \hlnum{1}\hlopt{:}\hlnum{4}\hldef{],} \hlnum{2}\hldef{, sum)}
\end{alltt}
\begin{verbatim}
## Sepal.Length  Sepal.Width Petal.Length  Petal.Width 
##        876.5        458.6        563.7        179.9
\end{verbatim}
\end{kframe}
\end{knitrout}

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlkwd{apply}\hldef{(iris[,} \hlnum{1}\hlopt{:}\hlnum{4}\hldef{],} \hlnum{2}\hldef{,} \hlkwc{FUN} \hldef{=} \hlkwa{function}\hldef{(}\hlkwc{a}\hldef{) \{}
    \hlkwd{sum}\hldef{(a}\hlopt{^}\hlnum{2}\hldef{)}
\hldef{\})}  \hlcom{# produces sum of square of all elements in a column}
\end{alltt}
\begin{verbatim}
## Sepal.Length  Sepal.Width Petal.Length  Petal.Width 
##      5223.85      1430.40      2582.71       302.33
\end{verbatim}
\end{kframe}
\end{knitrout}

\subsubsection{\textit{lapply}} In \textit{lapply}, the first argument is a list (say $X$) and the second argument is a function. It returns a list of the same length of $X$, each element of which is the result of applying the function to the corresponding element of $X$. \\

\textit{lapply} stands for ``list apply".

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hldef{mat1} \hlkwb{<-} \hlkwd{matrix}\hldef{(}\hlkwc{data} \hldef{=} \hlkwd{rbinom}\hldef{(}\hlnum{14}\hldef{,} \hlnum{25}\hldef{,} \hlkwc{prob} \hldef{=} \hlnum{0.5}\hldef{))}
\hldef{mat2} \hlkwb{<-} \hlkwd{matrix}\hldef{(}\hlkwc{data} \hldef{=} \hlkwd{rbinom}\hldef{(}\hlnum{24}\hldef{,} \hlnum{25}\hldef{,} \hlkwc{prob} \hldef{=} \hlnum{0.5}\hldef{))}
\hldef{mat3} \hlkwb{<-} \hlkwd{matrix}\hldef{(}\hlkwc{data} \hldef{=} \hlkwd{rbinom}\hldef{(}\hlnum{34}\hldef{,} \hlnum{25}\hldef{,} \hlkwc{prob} \hldef{=} \hlnum{0.5}\hldef{))}
\hldef{my_list} \hlkwb{<-} \hlkwd{list}\hldef{(mat1, mat2, mat3)}

\hlkwd{lapply}\hldef{(my_list,} \hlkwc{FUN} \hldef{= sum)}
\end{alltt}
\begin{verbatim}
## [[1]]
## [1] 175
## 
## [[2]]
## [1] 279
## 
## [[3]]
## [1] 422
\end{verbatim}
\end{kframe}
\end{knitrout}

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlkwd{lapply}\hldef{(my_list,} \hlkwc{FUN} \hldef{= mean)}
\end{alltt}
\begin{verbatim}
## [[1]]
## [1] 12.5
## 
## [[2]]
## [1] 11.625
## 
## [[3]]
## [1] 12.41176
\end{verbatim}
\begin{alltt}
\hlkwd{unlist}\hldef{(}\hlkwd{lapply}\hldef{(my_list,} \hlkwc{FUN} \hldef{= mean))}
\end{alltt}
\begin{verbatim}
## [1] 12.50000 11.62500 12.41176
\end{verbatim}
\end{kframe}
\end{knitrout}

\section{\textit{break} statement}

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlkwa{for} \hldef{(i} \hlkwa{in} \hlnum{1}\hlopt{:}\hlnum{10}\hldef{) \{}
    \hlkwd{ifelse}\hldef{(i} \hlopt{==} \hlnum{6}\hldef{,} \hlkwa{break}\hldef{,} \hlkwd{print}\hldef{(i}\hlopt{^}\hlnum{2}\hldef{))}
    \hlcom{# exits the loop when i is equal to 6}
\hldef{\}}
\end{alltt}
\begin{verbatim}
## [1] 1
## [1] 4
## [1] 9
## [1] 16
## [1] 25
\end{verbatim}
\end{kframe}
\end{knitrout}

\section{\textit{next} statement}

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlkwa{for} \hldef{(i} \hlkwa{in} \hlnum{1}\hlopt{:}\hlnum{10}\hldef{) \{}
    \hlkwd{ifelse}\hldef{(i} \hlopt{==} \hlnum{6}\hldef{,} \hlkwa{next}\hldef{,} \hlkwd{print}\hldef{(i}\hlopt{^}\hlnum{2}\hldef{))}
    \hlcom{# skips the printing job when i is equal to 6}
\hldef{\}}
\end{alltt}
\begin{verbatim}
## [1] 1
## [1] 4
## [1] 9
## [1] 16
## [1] 25
## [1] 49
## [1] 64
## [1] 81
## [1] 100
\end{verbatim}
\end{kframe}
\end{knitrout}

\section{Explicit Looping by \textit{repeat}}

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hldef{x} \hlkwb{<-} \hlnum{1}\hlopt{:}\hlnum{10}

\hldef{i} \hlkwb{<-} \hlnum{1}

\hlkwa{repeat} \hldef{\{}
    \hlkwd{print}\hldef{(x[i]} \hlopt{+} \hlnum{5}\hldef{)}
    \hldef{i} \hlkwb{<-} \hldef{i} \hlopt{+} \hlnum{1}
    \hlkwa{if} \hldef{(i} \hlopt{==} \hlkwd{length}\hldef{(x)} \hlopt{+} \hlnum{1}\hldef{) \{}
        \hlkwa{break}
    \hldef{\}}
\hldef{\}}
\end{alltt}
\begin{verbatim}
## [1] 6
## [1] 7
## [1] 8
## [1] 9
## [1] 10
## [1] 11
## [1] 12
## [1] 13
## [1] 14
## [1] 15
\end{verbatim}
\end{kframe}
\end{knitrout}

\end{document}
